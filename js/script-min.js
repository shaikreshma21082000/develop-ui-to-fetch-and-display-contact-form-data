var contacts=[];let flag=0;function submitContact(e){e.preventDefault();let r=document.querySelector("form"),t=Object.fromEntries(new FormData(r)),o=submitContacts(t);return 1==o&&httpClient.post("http://localhost:3000/contacts",t).then((e=>{})).catch((e=>{})),o}httpClient.get("http://localhost:3000/contacts").then((e=>{})).catch((e=>{}));const submitContacts=e=>{let r={};r=0==flag?{firstNameError:validateName(e.firstname),lastNameError:validateName(e.lastname),emailError:validateEmail(e.email),homeNoError:validatePhone(e.homeNo),workNoError:validatePhone(e.workNo),birthdateError:validateDob(e.birthdate),companyError:validateCompany(e.company),jobTitleError:validateJobTitle(e.jobTitle),notesError:validateNotes(e.notes)}:1==flag?{firstNameError:validateName(e.firstname),lastNameError:validateName(e.lastname),emailError:validateEmail(e.email),homeNoError:validatePhone(e.homeNo),workNoError:validatePhone(e.workNo),additionalContactNoError1:validatePhone(e.additionalContactNoError1),birthdateError:validateDob(e.birthdate),companyError:validateCompany(e.company),jobTitleError:validateJobTitle(e.jobTitle),notesError:validateNotes(e.notes)}:{firstNameError:validateName(e.firstname),lastNameError:validateName(e.lastname),emailError:validateEmail(e.email),homeNoError:validatePhone(e.homeNo),workNoError:validatePhone(e.workNo),additionalContactNoError1:validatePhone(e.additionalContactNoError1),additionalContactNoError2:validatePhone(e.additionalContactNoError2),birthdateError:validateDob(e.birthdate),companyError:validateCompany(e.company),jobTitleError:validateJobTitle(e.jobTitle),notesError:validateNotes(e.notes)};let t=Object.values(r).filter((e=>""!==e));return 0===t.length?(contacts.push(e),!0):(displayValidationList(t),displayValidationErrorMsg(r),!1)};function displayValidationList(e){let r="";e.map((e=>`<ul><li>${e}</li></ul>`)).forEach((e=>{r+=e})),document.getElementsByTagName("ul")[0].innerHTML=r}function displayValidationErrorMsg(e){0==flag?(0!=e.firstNameError.localeCompare("")?document.getElementById("firstNameError").innerText="*":document.getElementById("firstNameError").innerText=e.firstNameError,0!=e.lastNameError.localeCompare("")?document.getElementById("lastNameError").innerText="*":document.getElementById("lastNameError").innerText=e.lastNameError,0!=e.emailError.localeCompare("")?document.getElementById("emailError").innerText="*":document.getElementById("emailError").innerText=e.emailError,0!=e.homeNoError.localeCompare("")?document.getElementById("homeNoError").innerText="*":document.getElementById("homeNoError").innerText=e.homeNoError,0!=e.workNoError.localeCompare("")?document.getElementById("workNoError").innerText="*":document.getElementById("workNoError").innerText=e.workNoError,0!=e.birthdateError.localeCompare("")?document.getElementById("birthdateError").innerText="*":document.getElementById("birthdateError").innerText=e.birthdateError,0!=e.companyError.localeCompare("")?document.getElementById("companyError").innerText="*":document.getElementById("companyError").innerText=e.companyError,0!=e.jobTitleError.localeCompare("")?document.getElementById("jobTitleError").innerText="*":document.getElementById("jobTitleError").innerText=e.jobTitleError,0!=e.notesError.localeCompare("")?document.getElementById("notesError").innerText="*":document.getElementById("notesError").innerText=e.notesError):1==flag?(0!=e.firstNameError.localeCompare("")?document.getElementById("firstNameError").innerText="*":document.getElementById("firstNameError").innerText=e.firstNameError,0!=e.lastNameError.localeCompare("")?document.getElementById("lastNameError").innerText="*":document.getElementById("lastNameError").innerText=e.lastNameError,0!=e.emailError.localeCompare("")?document.getElementById("emailError").innerText="*":document.getElementById("emailError").innerText=e.emailError,0!=e.homeNoError.localeCompare("")?document.getElementById("homeNoError").innerText="*":document.getElementById("homeNoError").innerText=e.homeNoError,0!=e.workNoError.localeCompare("")?document.getElementById("workNoError").innerText="*":document.getElementById("workNoError").innerText=e.workNoError,0!=e.birthdateError.localeCompare("")?document.getElementById("birthdateError").innerText="*":document.getElementById("birthdateError").innerText=e.birthdateError,0!=e.additionalContactNoError1.localeCompare("")?document.getElementById("additionalContactNoError1").innerText="*":document.getElementById("additionalContactNoError1").innerText=e.additionalContactNoError1,0!=e.companyError.localeCompare("")?document.getElementById("companyError").innerText="*":document.getElementById("companyError").innerText=e.companyError,0!=e.jobTitleError.localeCompare("")?document.getElementById("jobTitleError").innerText="*":document.getElementById("jobTitleError").innerText=e.jobTitleError,0!=e.notesError.localeCompare("")?document.getElementById("notesError").innerText="*":document.getElementById("notesError").innerText=e.notesError):(0!=e.firstNameError.localeCompare("")?document.getElementById("firstNameError").innerText="*":document.getElementById("firstNameError").innerText=e.firstNameError,0!=e.lastNameError.localeCompare("")?document.getElementById("lastNameError").innerText="*":document.getElementById("lastNameError").innerText=e.lastNameError,0!=e.emailError.localeCompare("")?document.getElementById("emailError").innerText="*":document.getElementById("emailError").innerText=e.emailError,0!=e.homeNoError.localeCompare("")?document.getElementById("homeNoError").innerText="*":document.getElementById("homeNoError").innerText=e.homeNoError,0!=e.workNoError.localeCompare("")?document.getElementById("workNoError").innerText="*":document.getElementById("workNoError").innerText=e.workNoError,0!=e.birthdateError.localeCompare("")?document.getElementById("birthdateError").innerText="*":document.getElementById("birthdateError").innerText=e.birthdateError,0!=e.additionalContactNoError1.localeCompare("")?document.getElementById("additionalContactNoError1").innerText="*":document.getElementById("additionalContactNoError1").innerText=e.additionalContactNoError1,0!=e.additionalContactNoError2.localeCompare("")?document.getElementById("additionalContactNoError2").innerText="*":document.getElementById("additionalContactNoError2").innerText=e.additionalContactNoError2,0!=e.companyError.localeCompare("")?document.getElementById("companyError").innerText="*":document.getElementById("companyError").innerText=e.companyError,0!=e.jobTitleError.localeCompare("")?document.getElementById("jobTitleError").innerText="*":document.getElementById("jobTitleError").innerText=e.jobTitleError,0!=e.notesError.localeCompare("")?document.getElementById("notesError").innerText="*":document.getElementById("notesError").innerText=e.notesError)}function validateName(e){return""===e||null==e?"Username cannot be left blank":""}function validateEmail(e){let r="";return""===e||null==e?r+="Email cannot be left blank":e.match("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$")||(r+="Invalid Email"),r}function validatePhone(e){let r="";return""===e||null==e?r+="ContactNo cannot be left blank":e.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)||(r+="Invalid ContactNo"),r}function validateDob(e){let r="";if(""===e||null==e)r+="birthdate cannot be left blank";else{const t=e.split("-");(new Date).getFullYear()-t[0]<18&&(r+="Age is less than 18")}return r}function validateCompany(e){return""==e||null==e||null==e?"company cannot be left blank":""}function validateJobTitle(e){return""===e||null==e?"jobTitle cannot be left blank":""}function validateNotes(e){return e.length>50?"Notes charecters exceeded 50 charecters.":""}let birthdate=document.getElementById("birthdate");function addContact(e){if(e.preventDefault(),flag<2){flag++;let e=document.getElementById("addContactNo"),r=document.getElementById("addcontactno");const t=document.createElement("input"),o=document.createElement("small");t.setAttribute("id","additionalcontactno"+flag),o.setAttribute("id","additionalContactNoError"+flag),t.placeholder="Enter "+flag+" Additional Contact No",r.insertBefore(o,e),r.insertBefore(t,o)}else alert("NO ADDITIONAL NUMBERS CAN BE ADDED\nPHONE NUMBERS ARE FILLED")}null!==birthdate&&birthdate.setAttribute("max",(new Date).toISOString().split("T")[0]);